{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\alber\\\\WebstormProjects\\\\fqw\\\\cinema-front\\\\src\\\\components\\\\Order\\\\OrderInfo\\\\index.jsx\",\n    _s = $RefreshSig$();\n\nimport styles from './OrderInfo.module.css';\nimport { standartPrice } from '../../../constants/price';\nimport { createOrder } from '../../../APIs/orderAPI';\nimport useUser from '../../../hooks/useUser';\nimport { editSeatOrderId } from '../../../APIs/seatAPI';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst OrderInfo = _ref => {\n  _s();\n\n  let {\n    activeSeats,\n    film,\n    time,\n    auditoriumId\n  } = _ref;\n  const {\n    id\n  } = useUser();\n\n  const convertDate = iso => {\n    const date = new Date(iso);\n    const day = date.getDate() > 10 ? date.getDate() : '0' + date.getDate();\n    const month = date.getMonth() > 10 ? date.getMonth() : '0' + date.getMonth();\n    const hour = date.getHours() > 10 ? date.getHours() : '0' + date.getHours();\n    const minutes = date.getMinutes() > 10 ? date.getMinutes() : '0' + date.getMinutes();\n    return `${day}.${month}.${date.getFullYear()} ${hour}:${minutes}`;\n  };\n\n  const onHandleClick = async () => {\n    const order = await createOrder(id, auditoriumId, standartPrice * film.priceCoeficient * activeSeats.length);\n    await Promise.all();\n    await editSeatOrderId(seat.id, order.id);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.orderInfo,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.orderHeader,\n      children: \"\\u0417\\u0430\\u043A\\u0430\\u0437\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        margin: \"10px\"\n      },\n      children: [\"\\u0414\\u0430\\u0442\\u0430: \", convertDate(time.time)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        margin: \"10px\"\n      },\n      children: [\"\\u0412\\u044B\\u0431\\u0440\\u0430\\u043D\\u043D\\u044B\\u0435 \\u0431\\u0438\\u043B\\u0435\\u0442\\u044B:\", activeSeats.map((seat, i) => i === activeSeats.length - 1 ? ` ${seat.row} ряд ${seat.place} место` : ` ${seat.row} ряд ${seat.place} место,`)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        margin: \"10px\"\n      },\n      children: [\"\\u0426\\u0435\\u043D\\u0430: \", standartPrice * film.priceCoeficient * activeSeats.length, \" \\u0440\\u0443\\u0431.\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: activeSeats.length > 0 ? styles.orderButton : styles.orderButtonDisabled,\n      onClick: onHandleClick,\n      children: \"\\u041A\\u0443\\u043F\\u0438\\u0442\\u044C\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 5\n  }, this);\n};\n\n_s(OrderInfo, \"JBB38jCQ/7CH4udIyH+LCwgiG5M=\", false, function () {\n  return [useUser];\n});\n\n_c = OrderInfo;\nexport default OrderInfo;\n\nvar _c;\n\n$RefreshReg$(_c, \"OrderInfo\");","map":{"version":3,"sources":["C:/Users/alber/WebstormProjects/fqw/cinema-front/src/components/Order/OrderInfo/index.jsx"],"names":["styles","standartPrice","createOrder","useUser","editSeatOrderId","OrderInfo","activeSeats","film","time","auditoriumId","id","convertDate","iso","date","Date","day","getDate","month","getMonth","hour","getHours","minutes","getMinutes","getFullYear","onHandleClick","order","priceCoeficient","length","Promise","all","seat","orderInfo","orderHeader","margin","map","i","row","place","orderButton","orderButtonDisabled"],"mappings":"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","sourcesContent":["import styles from './OrderInfo.module.css';\nimport { standartPrice } from '../../../constants/price';\nimport { createOrder } from '../../../APIs/orderAPI'\nimport useUser from '../../../hooks/useUser';\nimport { editSeatOrderId } from '../../../APIs/seatAPI';\n\nconst OrderInfo = ({activeSeats, film, time, auditoriumId}) => {\n  const {id} = useUser()\n  const convertDate = (iso) => {\n    const date = new Date(iso);\n    const day = date.getDate() > 10 ? date.getDate() : '0' + date.getDate();\n    const month = date.getMonth() > 10 ? date.getMonth() : '0' + date.getMonth();\n    const hour = date.getHours() > 10 ? date.getHours() : '0' + date.getHours();\n    const minutes = date.getMinutes() > 10 ? date.getMinutes(): '0' + date.getMinutes();\n    return `${day}.${month}.${date.getFullYear()} ${hour}:${minutes}`;\n  }\n  const onHandleClick = async () => {\n    const order = await createOrder(id, auditoriumId, standartPrice * film.priceCoeficient * activeSeats.length)\n    await Promise.all()\n    await editSeatOrderId(seat.id, order.id)\n  }\n  return(\n    <div className={styles.orderInfo}>\n      <div className={styles.orderHeader}>\n        Заказ\n      </div>\n      <div style={{margin: \"10px\"}}>Дата: {convertDate(time.time)}</div>\n      <div style={{margin: \"10px\"}}>\n        Выбранные билеты:\n        {activeSeats.map((seat, i) => i === activeSeats.length - 1 ?\n          ` ${seat.row} ряд ${seat.place} место` :\n          ` ${seat.row} ряд ${seat.place} место,`)}\n      </div>\n      <div style={{margin: \"10px\"}}>\n        Цена: {standartPrice * film.priceCoeficient * activeSeats.length} руб.\n      </div>\n      <button className={activeSeats.length > 0 ? styles.orderButton : styles.orderButtonDisabled} onClick={onHandleClick}>Купить</button>\n    </div>\n  )\n}\n\nexport default OrderInfo;\n"]},"metadata":{},"sourceType":"module"}